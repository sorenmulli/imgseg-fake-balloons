<!DOCTYPE html>
<html>
<head>
    <title>Task 1</title>
    <!-- WebGL helpers -->
    <script type="text/javascript" src="webgl-utils.js"></script>
    <script type="text/javascript" src="initShaders.js"></script>
    <script type="text/javascript" src="MV.js"></script>

    <!-- Exercise solution -->
    <script type="text/javascript" src="scene.js"></script>
    <script type="text/javascript" src="sphere.js"></script>
    <script src="https://unpkg.com/vanilla-picker@2"></script>

    <script id="vertex-shader" type="x-shader/x-vertex">
        attribute vec4 a_Position, a_Normal;

        uniform mat4 M, P, V;
        uniform mat3 N;
        uniform vec4 lightPos;

        varying vec3 w_i, w_o, n;
        void main() {
            vec4 pos =  V * M * a_Position;
            vec3 light = (V * lightPos).xyz;

            n = normalize(N * (a_Normal).xyz);
            w_i = lightPos.w == 0.0 ? normalize(light) : normalize(light - pos.xyz);
            w_o = -normalize((V * a_Position).xyz);

            gl_Position = P * pos;
        }
    </script>

    <script id="fragment-shader" type="x-shader/x-fragment">
        precision mediump float;
        uniform vec3 Le;
        uniform float ka, kd, ks, s;

        varying vec3  w_i, w_o, n;
        void main() {
            float d = max(dot(normalize(n), normalize(w_i)), 0.0);
            vec3 w_h = normalize(w_i + w_o);

            vec3 lightSpecular = ks * Le * pow(max(dot(normalize(n), w_h), 0.0), s);
            vec3 lightDiffuse = d * kd * Le;
            vec3 lightAmbient = ka * Le;

            gl_FragColor = vec4(lightDiffuse + lightAmbient + lightSpecular, 1.0);
        }
    </script>
    </script>

    <script type="text/javascript" src="t1.js"></script>
    <style>
        html, body {
            width: 75%;
            margin: 10px;
        }
    </style>
</head>
<body>
    <canvas id="canvas" width="512" height="512">Please use a browser supporting WebGL</canvas>
    <br/>
    <p>Change sphere characteristics</p> 
    <h2> Color </h2>
    <div id="color-parent"><u>Pick color</u></div>
    <h2> Shape </h2>
    <p> Elongation parameter </p>
    <p>
    0
    <input type="range" min="0.05" max="0.95" value="0.4" step="0.05" class="slider" id="orient-slider">
    1
    </p>


    <h2> Noise </h2>
</body>
</html>
